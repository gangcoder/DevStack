# Lua 正则表达式

## 元字符

| 符号 | 解释     | 符号 | 解释              | 符号 | 解释         |
|------|----------|------|-------------------|------|--------------|
| .    | 所有字符 | %a   | 字母              | %l   | 小写字母     |
| %c   | 控制字符 | %d   | 数字              | %s   | 空白字符     |
| %p   | 标点符号 | %w   | 字母和数字        | %x   | 十六进制数字 |
| %u   | 大写字母 | %z   | 内部表示为0的字符 |

- %x: （这里的 x 是任意非字母或数字的字符） 表示字符 x。 这是对魔法字符转义的标准方法。 所有非字母或数字的字符 （包括所有标点，也包括非魔法字符） 都可以用前置一个 '%' 放在模式串中表示自身。
- 所有单个字母表示的类别（%a，%c，等）， 若将其字母改为大写，均表示对应的补集。 例如，%S 表示所有非空格的字符。
- %n， 这里的 n 可以从 1 到 9； 这个条目匹配一个等于 n 号捕获物（后面有描述）的子串

## 量词

| 符号 | 解释          | 符号 | 解释          | 符号 | 解释          |
|------|---------------|------|---------------|------|---------------|
| ()   | 获取字符      | .    | 所有字符      | %    | 转义          |
| +    | 重复1次或多次(尽可能长的匹配) | -    | 重复0次或多次(尽可能短的匹配) | *    | 重复0次或多次(尽可能长的匹配) |
| ?    | 出现0次或1次  | []   | 字符组        | ^    | 首位或补集    |
| $    | 结尾          | %bxy   | 匹配成对字符(%b{})  |

- %f[set]， 指 边境模式； 这个条目会匹配到一个位于 set 内某个字符之前的一个空串， 且这个位置的前一个字符不属于 set 。 集合 set 的含义如前面所述。 匹配出的那个空串之开始和结束点的计算就看成该处有个字符 '\0' 一样。

## 模式匹配函数

- string.find() 字符串查找匹配
- string.gsub() 全局字符串替换
- string.match() 字符串匹配
- string.gmatch() 字符串匹配迭代器

[LuaRegularExpression](http://www.cnblogs.com/whiteyun/archive/2009/09/02/1541043.html)
[cloudwu](http://cloudwu.github.io/lua53doc/manual.html#6.4.2)